(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var a=t.g.document;if(!e&&a&&(a.currentScript&&(e=a.currentScript.src),!e)){var n=a.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();const e=t.p+"img/fav.png";var a=document.createElement("link");a.rel="icon",a.href=e,document.head.appendChild(a);var n=document.createElement("div");n.className="wrapper",document.body.appendChild(n);var r=document.createElement("div");r.className="wrapper-Buttons",n.appendChild(r);var o=document.createElement("button");o.className="button",o.textContent="Shuffle and start";var i=document.createElement("button");i.className="button",i.textContent="Save";var c=document.createElement("button");c.className="button",c.textContent="Load";var l=document.createElement("button");l.textContent="Sound",l.className="button";var s=document.createElement("button");s.textContent="Result",s.className="button",r.append(o),r.append(i),r.append(c),r.append(l),r.append(s);var d=document.createElement("div");d.className="wrapper-Move-Time",n.appendChild(d);var u=document.createElement("div");u.textContent="Moves:";var m=document.createElement("div");m.textContent="0";var p=document.createElement("div");p.textContent="Time:";var v=document.createElement("div");v.textContent="00:00:00",d.append(u),d.append(m),d.append(p),d.append(v);var f=document.createElement("div");f.className="wrapper-game",n.appendChild(f);var g=document.createElement("div");g.className="wrapper-radio",n.appendChild(g);var b=document.createElement("label");b.className="label",b.textContent="3x3",b.setAttribute("for","radio9");var y=document.createElement("label");y.className="label",y.textContent="4x4",y.setAttribute("for","radio16");var h=document.createElement("label");h.className="label",h.textContent="5x5",h.setAttribute("for","radio25");var E=document.createElement("label");E.className="label",E.textContent="6x6",E.setAttribute("for","radio36");var x=document.createElement("label");x.className="label",x.textContent="7x7",x.setAttribute("for","radio49");var S=document.createElement("label");S.className="label",S.textContent="8x8",S.setAttribute("for","radio64");var A=document.createElement("input");A.setAttribute("type","radio"),A.setAttribute("name","radio"),A.setAttribute("id","radio9"),A.setAttribute("value","9"),A.className="radio";var N=document.createElement("input");N.setAttribute("type","radio"),N.setAttribute("name","radio"),N.setAttribute("id","radio16"),N.setAttribute("value","16"),N.checked=!0,N.className="radio";var L=document.createElement("input");L.setAttribute("type","radio"),L.setAttribute("name","radio"),L.setAttribute("id","radio25"),L.setAttribute("value","25"),L.className="radio";var C=document.createElement("input");C.setAttribute("type","radio"),C.setAttribute("name","radio"),C.setAttribute("id","radio36"),C.setAttribute("value","36"),C.className="radio";var w=document.createElement("input");w.setAttribute("type","radio"),w.setAttribute("name","radio"),w.setAttribute("id","radio49"),w.setAttribute("value","49"),w.className="radio";var I=document.createElement("input");I.setAttribute("type","radio"),I.setAttribute("name","radio"),I.setAttribute("id","radio64"),I.setAttribute("value","64"),I.className="radio",g.append(b),g.append(A),g.append(y),g.append(N),g.append(h),g.append(L),g.append(E),g.append(C),g.append(x),g.append(w),g.append(S),g.append(I);var T=document.createElement("div");T.className="wrapper-win",n.appendChild(T);const M=t.p+"audio/move.mp3";function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}var k,B,D,J,j=document.getElementsByName("radio"),$=16,G=0,q=0,z=!0,H=[],R=!1,F=new Audio(M);function P(t){var e;f.innerHTML="",D=Math.sqrt(t),(e=Array(t).keys(),function(t){if(Array.isArray(t))return O(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t,e,a){var n=document.createElement("div");n.className="cell",n.textContent=t+1,n.dataset.matrixId=t+1,n.id=t+1,n.style.width="".concat(100/D,"%"),n.style.height="".concat(100/D,"%"),n.draggable=!0,n.addEventListener("dragstart",Y),n.addEventListener("dragend",K),n.addEventListener("touchEnd",Q),f.append(n)})),k=Array.from(f.querySelectorAll(".cell")),B=k.map((function(t){return Number(t.dataset.matrixId)})),k.at(-1).style.display="none",J=W(B),R&&(J=JSON.parse(localStorage.getItem("matrixLocalStorage"))),X(J),U()}function U(){for(var t=J.flat(),e=V(t);!nt(e);)e=V(t);X(J=R?JSON.parse(localStorage.getItem("matrixLocalStorage")):W(e))}function Y(t){var e=t.target.id;t.dataTransfer.setData("id",t.target.id);var a=document.getElementById(e);a.style.opacity="0.3",setTimeout((function(){a.style.opacity="1"}),1e4)}function K(t){var e=t.target.id,a=document.getElementById(e);setTimeout((function(){a.style.opacity="1"}),110)}function Q(t){var e=t.target.id,a=document.getElementById(e);setTimeout((function(){a.style.opacity="1"}),110)}function V(t){for(var e=t.length-1;e>0;e--){var a=Math.floor(Math.random()*(e+1)),n=[t[a],t[e]];t[e]=n[0],t[a]=n[1]}return t}function W(t){for(var e=[],a=0;a<D;a++)e.push([]);for(var n=0,r=0,o=0;o<t.length;o++)n>=D&&(r++,n=0),e[r][n]=t[o],n++;return e}function X(t){for(var e=0;e<t.length;e++)for(var a=0;a<t[e].length;a++){var n=t[e][a];Z(k[n-1],a,e)}}function Z(t,e,a){t.style.transform="translate3D(".concat(100*e,"%, ").concat(100*a,"%, 0)")}function _(t,e){for(var a=0;a<e.length;a++)for(var n=0;n<e[a].length;n++)if(e[a][n]===t)return{x:n,y:a};return null}function tt(t,e){var a=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return!(1!==a&&1!==n||t.x!==e.x&&t.y!==e.y)}function et(t,e,a){var n=a[t.y][t.x];a[t.y][t.x]=a[e.y][e.x],a[e.y][e.x]=n,q++,m.textContent="".concat(q),function(t){for(var e=new Array($).fill(0).map((function(t,e){return e+1})),a=t.flat(),n=0;n<e.length;n++)if(a[n]!==e[n])return!1;return!0}(a)&&function(){var t=at(G);setTimeout((function(){setTimeout((function(){T.classList.remove("wrapper-win-active"),T.textContent=""}),3e3),T.classList.add("wrapper-win-active"),T.textContent="Hooray! You solved the puzzle in ".concat(t," and ").concat(q," moves!"),G=0}),500),H.push({typeGame:$,moves:q,winTime:t}),H.sort((function(t,e){return t.moves-e.moves})),H.length>10&&(H.length=10);var e=JSON.stringify(H);localStorage.setItem("resultArrayLocalStorage",e)}()}function at(t){var e=new Date(2022,0,1);return e.setSeconds(t),e.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")}function nt(t){var e=0,a=t.slice(),n=Math.ceil((a.indexOf($)+1)/Math.sqrt($))-1;a.splice(a.indexOf($),1);for(var r=0;r<a.length;r++)for(var o=r;o<a.length;o++)a[r]>a[o]&&e++;return $%2!=0&&e%2==0||(e+n)%2!=0&&$%2==0}j.forEach((function(t){t.addEventListener("change",(function(){P($=+t.value),G=0,q=0,v.textContent="00:00:00",m.textContent="".concat(q)}))})),P($),o.addEventListener("click",(function(t){G=0,q=0,v.textContent="00:00:00",U(),m.textContent="".concat(q)})),f.addEventListener("click",(function(t){var e=t.target.closest(".cell");if(e){F.pause(),F.currentTime=0;var a=_(Number(e.dataset.matrixId),J),n=_($,J);tt(a,n)&&z&&(et(n,a,J),X(J),F.play())}})),f.addEventListener("dragover",(function(t){t.preventDefault()})),f.addEventListener("drop",(function(t){var e=document.getElementById(t.dataTransfer.getData("id"));if(!t.target.classList.contains("cell")){F.pause(),F.currentTime=0;var a=_(Number(e.dataset.matrixId),J),n=_($,J);tt(a,n)&&z&&(et(n,a,J),X(J),F.play())}})),f.addEventListener("transitionstart",(function(t){z=!1})),f.addEventListener("transitionend",(function(t){z=!0})),setInterval((function(){G++,v.textContent="".concat(at(G))}),1e3),l.addEventListener("click",(function(t){l.classList.toggle("sound-mute"),t.target.classList.contains("sound-mute")?F.volume=0:F.volume=1})),i.addEventListener("click",(function(){var t=JSON.stringify(J);localStorage.setItem("matrixLocalStorage",t),localStorage.setItem("typeGameLocalStorage",$),localStorage.setItem("movesLocalStorage",q),localStorage.setItem("timeDurationLocalStorage",G)})),c.addEventListener("click",(function(){localStorage.getItem("matrixLocalStorage")&&(R=!0,J=JSON.parse(localStorage.getItem("matrixLocalStorage")),$=Number(localStorage.getItem("typeGameLocalStorage")),document.getElementById("radio".concat($)).checked=!0,q=Number(localStorage.getItem("movesLocalStorage")),G=Number(localStorage.getItem("timeDurationLocalStorage")),m.textContent=q,P($)),R=!1})),localStorage.getItem("resultArrayLocalStorage")&&(H=JSON.parse(localStorage.getItem("resultArrayLocalStorage"))),s.addEventListener("click",(function(){setTimeout((function(){setTimeout((function(){T.classList.remove("wrapper-win-active"),T.textContent=""}),3e3),T.classList.add("wrapper-win-active"),localStorage.getItem("resultArrayLocalStorage")?(H=JSON.parse(localStorage.getItem("resultArrayLocalStorage"))).forEach((function(t,e,a){var n=document.createElement("p");n.textContent="".concat(e+1,": Type: ").concat(t.typeGame,", Moves: ").concat(t.moves,", winTime: ").concat(t.winTime),T.appendChild(n)})):T.textContent="No Results"}),500)}))})();